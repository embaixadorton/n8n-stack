# ============================
# Configuração Geral do n8n 2.0
# ============================

N8N_HOST=n8n.seudominio.com.br
N8N_PORT=5678
N8N_PROTOCOL=https
NODE_ENV=production
WEBHOOK_URL=https://n8n.seudominio.com.br/
GENERIC_TIMEZONE=America/Sao_Paulo
TZ=America/Sao_Paulo

# ============================
# Segurança - v2.0 Breaking Changes
# ============================

# Chave de criptografia para credenciais (IMPORTANTE: gerar e guardar com segurança)
# Pode gerar com: head -c 32 /dev/urandom | base64
N8N_ENCRYPTION_KEY=SUA_CHAVE_CRIPTOGRAFIA_SEGURA

# OAuth agora requer autenticação por padrão em v2.0
N8N_SKIP_AUTH_ON_OAUTH_CALLBACK=false

# Restrição de acesso a arquivos (caminho permitido para ReadWriteFiles nodes)
N8N_RESTRICT_FILE_ACCESS_TO=/files

# ============================
# Banco de Dados - PostgreSQL
# ============================

DB_TYPE=postgresdb
DB_POSTGRESDB_HOST=postgres
DB_POSTGRESDB_PORT=5432
DB_POSTGRESDB_DATABASE=n8n
DB_POSTGRESDB_USER=n8n
DB_POSTGRESDB_PASSWORD=SUA_SENHA_SEGURA

POSTGRES_USER=n8n
POSTGRES_PASSWORD=SUA_SENHA_SEGURA
POSTGRES_DB=n8n

# ============================
# Traefik
# ============================

TRAEFIK_SSL_HOST=seudominio.com.br

# ============================
# Rede Docker
# ============================

NETWORK_NAME=n8n

# ============================
# Limites e Reservas de Recursos
# ============================

LIMIT_CPU=1.5
LIMIT_MEMORY=1500M
RESERVATION_CPU=0.5
RESERVATION_MEMORY=512M

# ============================
# Task Runners (v2.0 - ativado por padrão)
# ============================

# Task runners habilitados por padrão em v2.0
# Não é necessário configurar N8N_RUNNERS_ENABLED=true, pois já é o padrão

# ============================
# Dados Binários (v2.0)
# ============================

# Define onde dados binários serão armazenados (filesystem ou database)
# filesystem é padrão em modo regular
N8N_DEFAULT_BINARY_DATA_MODE=filesystem

# ============================
# Autenticação (Opcional)
# ============================

# Habilitar autenticação básica (recomendado em produção)
N8N_BASIC_AUTH_ACTIVE=true
N8N_BASIC_AUTH_USER=admin
N8N_BASIC_AUTH_PASSWORD=SUA_SENHA_ADMIN_SEGURA
